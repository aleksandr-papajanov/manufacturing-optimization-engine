# docker-compose.override.yml
# This file is used to override settings in docker-compose.yml
# It is intended for development purposes to add additional services

services:
  # Development Mode: switch to ComposeManagedOrchestrator
  provider-registry:
    environment:
      - Orchestration__Mode=Development
  
  # Provider - Main Remanufacturing Center
  provider-main-remanufacturing:
    build:
      context: .
      dockerfile: ManufacturingOptimization.ProviderSimulator/Dockerfile
    container_name: provider-main-remanufacturing
    environment:
      - PROVIDER_TYPE=MainRemanufacturingCenter
      - Provider__ProviderId=f93a2956-e430-4b50-b688-991b5c33f5f4
      - Provider__ProviderName=Main Remanufacturing Center
      - Provider__ProcessCapabilities__0__Process=Cleaning
      - Provider__ProcessCapabilities__0__CostPerHour=50
      - Provider__ProcessCapabilities__0__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__0__QualityScore=0.90
      - Provider__ProcessCapabilities__0__EnergyConsumptionKwhPerHour=1.5
      - Provider__ProcessCapabilities__0__CarbonIntensityKgCO2PerKwh=0.35
      - Provider__ProcessCapabilities__0__UsesRenewableEnergy=false
      - Provider__ProcessCapabilities__1__Process=Disassembly
      - Provider__ProcessCapabilities__1__CostPerHour=75
      - Provider__ProcessCapabilities__1__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__1__QualityScore=0.95
      - Provider__ProcessCapabilities__1__EnergyConsumptionKwhPerHour=2.0
      - Provider__ProcessCapabilities__1__CarbonIntensityKgCO2PerKwh=0.35
      - Provider__ProcessCapabilities__1__UsesRenewableEnergy=false
      - Provider__ProcessCapabilities__2__Process=PartSubstitution
      - Provider__ProcessCapabilities__2__CostPerHour=60
      - Provider__ProcessCapabilities__2__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__2__QualityScore=0.85
      - Provider__ProcessCapabilities__2__EnergyConsumptionKwhPerHour=3.0
      - Provider__ProcessCapabilities__2__CarbonIntensityKgCO2PerKwh=0.35
      - Provider__ProcessCapabilities__2__UsesRenewableEnergy=false
      - Provider__ProcessCapabilities__3__Process=Reassembly
      - Provider__ProcessCapabilities__3__CostPerHour=80
      - Provider__ProcessCapabilities__3__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__3__QualityScore=0.92
      - Provider__ProcessCapabilities__3__EnergyConsumptionKwhPerHour=2.5
      - Provider__ProcessCapabilities__3__CarbonIntensityKgCO2PerKwh=0.35
      - Provider__ProcessCapabilities__3__UsesRenewableEnergy=false
      - Provider__ProcessCapabilities__4__Process=Certification
      - Provider__ProcessCapabilities__4__CostPerHour=100
      - Provider__ProcessCapabilities__4__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__4__QualityScore=0.98
      - Provider__ProcessCapabilities__4__EnergyConsumptionKwhPerHour=1.0
      - Provider__ProcessCapabilities__4__CarbonIntensityKgCO2PerKwh=0.35
      - Provider__ProcessCapabilities__4__UsesRenewableEnergy=false
      - Provider__TechnicalCapabilities__AxisHeight=500.0
      - Provider__TechnicalCapabilities__Power=1500.0
      - Provider__TechnicalCapabilities__Tolerance=0.01
      - RabbitMQ__Host=rabbitmq
      - RabbitMQ__Port=5672
      - RabbitMQ__Username=admin
      - RabbitMQ__Password=admin123
    depends_on:
      rabbitmq:
        condition: service_healthy
    networks:
      - manufacturing-network
    labels:
      orchestration-mode: "development"

  # Provider - Engineering Design Firm
  provider-engineering-design:
    build:
      context: .
      dockerfile: ManufacturingOptimization.ProviderSimulator/Dockerfile
    container_name: provider-engineering-design
    environment:
      - PROVIDER_TYPE=EngineeringDesignFirm
      - Provider__ProviderId=f8127a26-e818-4d27-8812-10d422c45a6c
      - Provider__ProviderName=Engineering Design Firm
      - Provider__ProcessCapabilities__0__Process=Redesign
      - Provider__ProcessCapabilities__0__CostPerHour=150
      - Provider__ProcessCapabilities__0__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__0__QualityScore=0.95
      - Provider__ProcessCapabilities__0__EnergyConsumptionKwhPerHour=0.5
      - Provider__ProcessCapabilities__0__CarbonIntensityKgCO2PerKwh=0.25
      - Provider__ProcessCapabilities__0__UsesRenewableEnergy=true
      - Provider__TechnicalCapabilities__AxisHeight=0.0
      - Provider__TechnicalCapabilities__Power=0.0
      - Provider__TechnicalCapabilities__Tolerance=0.001
      - RabbitMQ__Host=rabbitmq
      - RabbitMQ__Port=5672
      - RabbitMQ__Username=admin
      - RabbitMQ__Password=admin123
    depends_on:
      rabbitmq:
        condition: service_healthy
    networks:
      - manufacturing-network
    labels:
      orchestration-mode: "development"

  # Provider - Precision Machine Shop
  provider-precision-machine:
    build:
      context: .
      dockerfile: ManufacturingOptimization.ProviderSimulator/Dockerfile
    container_name: provider-precision-machine
    environment:
      - PROVIDER_TYPE=PrecisionMachineShop
      - Provider__ProviderId=70564b7f-d634-4a90-b3f9-33224915dbc4
      - Provider__ProviderName=Precision Machine Shop
      - Provider__ProcessCapabilities__0__Process=Turning
      - Provider__ProcessCapabilities__0__CostPerHour=120
      - Provider__ProcessCapabilities__0__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__0__QualityScore=0.93
      - Provider__ProcessCapabilities__0__EnergyConsumptionKwhPerHour=5.0
      - Provider__ProcessCapabilities__0__CarbonIntensityKgCO2PerKwh=0.60
      - Provider__ProcessCapabilities__0__UsesRenewableEnergy=false
      - Provider__ProcessCapabilities__1__Process=Grinding
      - Provider__ProcessCapabilities__1__CostPerHour=110
      - Provider__ProcessCapabilities__1__SpeedMultiplier=1.0
      - Provider__ProcessCapabilities__1__QualityScore=0.90
      - Provider__ProcessCapabilities__1__EnergyConsumptionKwhPerHour=3.5
      - Provider__ProcessCapabilities__1__CarbonIntensityKgCO2PerKwh=0.60
      - Provider__ProcessCapabilities__1__UsesRenewableEnergy=false
      - Provider__TechnicalCapabilities__AxisHeight=300.0
      - Provider__TechnicalCapabilities__Power=2000.0
      - Provider__TechnicalCapabilities__Tolerance=0.001
      - RabbitMQ__Host=rabbitmq
      - RabbitMQ__Port=5672
      - RabbitMQ__Username=admin
      - RabbitMQ__Password=admin123
    depends_on:
      rabbitmq:
        condition: service_healthy
    networks:
      - manufacturing-network
    labels:
      orchestration-mode: "development"

